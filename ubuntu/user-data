#cloud-config
autoinstall:
  version: 1
  source:
    search_drivers: false
    id: ubuntu-server-minimal
  network:
    version: 2
    ethernets:
      enp0s1:
        dhcp4: true
  storage:
    swap:
      size: 0
    config:
    - id: sda
      path: /dev/sda
      ptable: gpt
      type: disk
    - id: sda1
      device: sda
      size: 100M
      flag: boot
      grub_device: true
      type: partition
    - id: sda2
      device: sda
      size: -1
      type: partition
    - id: format1
      volume: sda1
      fstype: fat32
      type: format
    - id: format2
      volume: sda2
      fstype: ext4
      type: format
    - id: mount1
      device: format1
      path: /boot/efi
      type: mount
    - id: mount2
      device: format2
      path: /
      type: mount
  ssh:
    install-server: true
    authorized-keys: [ "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFYiOhmcggSo8E3h2roj12qA411ZjTuevACqmEl9SjAx" ]
  timezone: UTC
  shutdown: poweroff
  user-data:
    disable_root: false
